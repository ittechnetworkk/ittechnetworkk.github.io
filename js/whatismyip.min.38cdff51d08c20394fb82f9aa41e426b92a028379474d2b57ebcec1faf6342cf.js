async function getIPInfo(){document.getElementById("loading").style.display="block",document.getElementById("ip-result").style.display="none";try{const s=await fetch("https://api.ipify.org?format=json"),n=await s.json(),o=await fetch(`https://ipapi.co/${n.ip}/json/`),e=await o.json();let t="-";try{const e=await fetch("https://api64.ipify.org?format=json"),n=await e.json();t=n.ip}catch{try{const e=await fetch("https://api-ipv6.ip.sb/ip"),n=await e.text();t=n.trim()}catch{try{const e=await fetch("https://v6.ident.me/"),n=await e.text();t=n.trim()}catch{console.log("IPv6 not available"),t="Not available"}}}document.getElementById("ipv4").textContent=n.ip,document.getElementById("ipv6").textContent=t;const i=`https://flagcdn.com/w80/${e.country_code.toLowerCase()}.png`;document.getElementById("country-flag").src=i,document.getElementById("country").textContent=e.country_name,document.getElementById("city").textContent=e.city,document.getElementById("region").textContent=e.region,document.getElementById("isp").textContent=e.org,document.getElementById("org").textContent=e.org,document.getElementById("timezone").textContent=e.timezone,document.getElementById("user-agent").textContent=navigator.userAgent,document.getElementById("language").textContent=navigator.language,document.getElementById("loading").style.display="none",document.getElementById("ip-result").style.display="grid"}catch{document.getElementById("loading").innerHTML='<div class="error">Error fetching IP information. Please try again.</div>'}}function refreshIPInfo(){getIPInfo()}async function copyToClipboard(e){const t=document.getElementById(e),n=t.textContent;try{await navigator.clipboard.writeText(n);const e=t.nextElementSibling;e.classList.add("copied"),setTimeout(()=>{e.classList.remove("copied")},1500)}catch(e){console.error("Failed to copy text: ",e)}}document.addEventListener("DOMContentLoaded",getIPInfo)